@startuml graphsAD
|Front-End|
start
:המשתמש בוחר "ניתוח הוצאות";
:שליחת בקשה לניתוח הוצאות;
->|Server|

|Server|
:קבלת בקשה לניתוח הוצאות;
:בדיקת הרשאות ובעלות;
:שאילתת הוצאות ממסד הנתונים;
-->|MongoDB|

|MongoDB|
:הרצת שאילתת אגרגציה על הוצאות;
-->|Server|

|Server|
:קבלת נתונים ממסד הנתונים;
if (אין נתונים להצגה?) then (כן)
  :שליחת 404 Not Found;
  ->|Front-End|
  :הצג "אין נתונים להצגה";
  stop
else (לא)
  :עיבוד הנתונים לפורמט של גרפים;
  :שליחת 200 OK עם נתוני הגרפים;
  ->|Front-End|
  :הצגת גרפים ודוחות למשתמש;
  stop
endif
@enduml