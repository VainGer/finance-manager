@startuml viewProfilesAD
|Front-End|
start
:הורה בוחר "צפייה בפרופילים משפחתיים";
->|Server|

|Server|
:קבלת בקשה לצפייה בפרופילים;
:בדיקת הרשאות (האם המשתמש הוא הורה);
:שליפת רשימת הפרופילים המשויכים להורה;
-->|MongoDB|
|MongoDB|
:שאילתת פרופילים לפי ownerId;
-->|Server|
|Server|
:שליפת כל ההוצאות עבור הפרופילים שנמצאו;
-->|MongoDB|
|MongoDB|
:שאילתת הוצאות לפי רשימת profileId;
-->|Server|
|Server|
:איחוד הנתונים (פרופילים והוצאות);
:שליחת 200 OK עם הנתונים המאוחדים;
->|Front-End|
|Front-End|
:קבלת הנתונים;
:הצגת רשימת הפרופילים וההוצאות המשויכות;
stop
@enduml